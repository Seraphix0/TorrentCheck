@{
    ViewData["Title"] = "Search";
}
@model TorrentCheck.Models.HomeViewModels.SearchViewModel

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<h1>@ViewData["Title"]</h1>
<div class="container">
    <div class="col-md-12">
        <form method="post" asp-action="Search">
            <div class="form-group">
                <div class="form-inline">
                    <label asp-for="Title"></label>
                    <input asp-for="Title" class="form-control" />
                    <span asp-validation-for="Title" class="text-left"></span>
                </div>
                <br />
                <div class="form-inline">
                    <label asp-for="Category"></label>
                    <select asp-for="Category" asp-items="Html.GetEnumSelectList<Category>()">
                        <!--<option selected="selected" value="">Please select</option>-->
                    </select>
                    <span asp-validation-for="Category" class="text-danger" />
                </div>
                <br />
                <div class="form-inline">
                    <label asp-for="SearchAll"></label>
                    <input asp-for="SearchAll" class="form-control" />
                    <span asp-validation-for="SearchAll" class="checkbox"></span>
                    <button type="submit" class="btn btn-default">Search</button>
                </div>
            </div>
        </form>
    </div>

    <hr />

    <div class="col-lg-12">

        <h3>TorrentCheck Exclusives:</h3>
        <ul>
            @if (Model.SQLResults != null)
            {
                foreach (Result element in Model.SQLResults)
                {
                    <li>
                        <div id="result">
                            Title: @element.Title | Trusted: @element.Trusted.ToString() | Category: @element.Category.ToString() |
                            @Html.ActionLink(
                                linkText: "Download",
                                actionName: "Download",
                                controllerName: "Home",
                                routeValues: new
                                {
                                    FilePath = element.FilePath
                                },
                                htmlAttributes: null
                            )
                        </div>
                    </li>}
            }
        </ul>

        <hr />

        @if (Model.HTTPResults != null)
        {
            <h3>Remote sources:</h3>
            <ul>
                @foreach (Result element in Model.HTTPResults)
                {
                    <li><div id="result">Title: @element.Title | Trusted: @element.Trusted.ToString() | Category: @element.Category.ToString()</div></li>}
                }
            </ul>
        }
    </div>
</div>

<div class="container">
    <div id="myCarousel" class="carousel slide" style="width:25% !important; height: 15% !important;">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li class="item1 active"></li>
            <li class="item2"></li>
            <li class="item3"></li>
            <li class="item4"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox" style="width:100%; height: 100%">
            <div class="item active">
                <img src="~/images/piratebay.jpg" alt="Chania">
                <div class="carousel-caption">>
                </div>
            </div>

            <div class="item">
                <img src="~/images/kickass.jpg" alt="Chania">
                <div class="carousel-caption">
                </div>
            </div>

            <div class="item">
                <img src="~/images/rarbg.jpg" alt="Flower">
                <div class="carousel-caption">
                </div>
            </div>

            <div class="item">
                <img src="~/images/1337x.jpg" alt="Flower">
                <div class="carousel-caption">
                </div>
            </div>

        </div>

        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" role="button">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" role="button">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

<script>
    $(document).ready(function () {
        // Activate Carousel
        $("#myCarousel").carousel();

        // Enable Carousel Indicators
        $(".item1").click(function () {
            $("#myCarousel").carousel(0);
        });
        $(".item2").click(function () {
            $("#myCarousel").carousel(1);
        });
        $(".item3").click(function () {
            $("#myCarousel").carousel(2);
        });
        $(".item4").click(function () {
            $("#myCarousel").carousel(3);
        });

        // Enable Carousel Controls
        $(".left").click(function () {
            $("#myCarousel").carousel("prev");
        });
        $(".right").click(function () {
            $("#myCarousel").carousel("next");
        });
    });
</script>
